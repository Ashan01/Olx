<!-- <!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>

      <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-database.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-storage.js"></script>

      <script>
         var firebaseConfig = {
            apiKey: "AIzaSyBiNkby6jAUKE52SzuUzosqpjZwpXOcMCw",
            authDomain: "olx-d2087.firebaseapp.com",
            projectId: "olx-d2087",
            storageBucket: "olx-d2087.appspot.com",
            messagingSenderId: "954353708909",
            appId: "1:954353708909:web:37fbfaa0ea86778e2bb464",
            measurementId: "G-37B7RMN2C9",
         };
         firebase.initializeApp(firebaseConfig);
      </script>

      <style>
         #myImg {
            width: 200px;
            height: 200px;
            border: 1px solid black;
         }
      </style>
   </head>
   <body>
      <input type="text" id="nameBox" /><br /><br />
      <img id="myImg" /> <label id="upProgress"></label>

      <button id="select">Select</button>
      <button id="upload">Upload</button>
      <button id="retrive">retrive</button>

      <script>
         let imgURL;
         let imageName;
         let reader;
         let files = [];

         document.getElementById("select").onclick = function (e) {
            var input = document.createElement("input");
            input.type = "file";

            input.onchange = (e) => {
               files = e.target.files;
               reader = new FileReader();

               reader.onload = function () {
                  document.getElementById("myImg").src = reader.result;
               };
               reader.readAsDataURL(files[0]);
            };
            input.click();
         };

         document.getElementById("upload").onclick = function () {
            imageName = document.getElementById("nameBox").value;

            var uploadTask = firebase
               .storage()
               .ref("images1/" + imageName + ".png")
               .put(files[0]);

            uploadTask.on(
               "state_changed",
               function (snapshot) {
                  var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;

                  document.getElementById("upProgress").innerHTML = "Upload" + progress + "%";
               },
               function (error) {
                  console.log(error);
               },

               function () {
                  uploadTask.snapshot.ref.getDownloadURL().then(function (url) {
                     imgURL = url;

                     firebase
                        .database()
                        .ref("Picture/" + imageName)
                        .set({
                           name: imageName,
                           Link: imgURL,
                        });
                  });
               }
            );
         };
      </script>
   </body>
</html> -->
